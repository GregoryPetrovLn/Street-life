{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) : factory(global.Preloader = {}, null);\n})(this, function (exports, React) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  var defaultStyle = {\n    opacity: 1,\n    zIndex: 999,\n    backgroundColor: 'white',\n    height: '100vh',\n    width: '100vw',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n\n  var Preloader = /*#__PURE__*/function (_React$Component) {\n    _inherits(Preloader, _React$Component);\n\n    function Preloader() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Preloader);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Preloader)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n        loaded: false\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"ref\", void 0);\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentDidMount\", function () {\n        window.requestAnimationFrame(_this.checkReadyState);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"checkReadyState\", function () {\n        if (document.readyState === 'complete' && _this.ref) {\n          _this.ref.style.opacity = '0';\n          setTimeout(function () {\n            _this.setState({\n              loaded: true\n            });\n\n            _this.ref = null;\n          }, _this.props.fadeDuration || 200);\n        } else {\n          window.requestAnimationFrame(_this.checkReadyState);\n        }\n      });\n\n      return _this;\n    }\n\n    _createClass(Preloader, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            style = _this$props.style,\n            className = _this$props.className,\n            children = _this$props.children,\n            fadeDuration = _this$props.fadeDuration;\n        var PlaceholderComponent = React.Children.toArray(children).find(function (_ref) {\n          var type = _ref.type;\n          return type.displayName === 'PreloadingPlaceholder';\n        });\n\n        if (!PlaceholderComponent) {\n          console.warn('react-preloading-screen:', 'No <Placeholder> component found in children of <Preloader>. Preloader is not in effect.');\n          return children;\n        }\n\n        var cleanChildren = React.Children.map(children, function (child) {\n          return child.type.displayName === 'PreloadingPlaceholder' ? null : child;\n        });\n        return React.createElement(React.Fragment, null, cleanChildren, this.state.loaded ? null : React.createElement(\"div\", {\n          style: _objectSpread({}, defaultStyle, {\n            transition: \"opacity \".concat(fadeDuration || 200 / 1000, \"s ease\")\n          }, style),\n          className: className,\n          ref: function ref(_ref2) {\n            _this2.ref = _ref2;\n          }\n        }, PlaceholderComponent));\n      }\n    }]);\n\n    return Preloader;\n  }(React.Component);\n\n  var Placeholder = function Placeholder(_ref3) {\n    var children = _ref3.children;\n    return React.createElement(React.Fragment, null, children);\n  };\n\n  Placeholder.displayName = 'PreloadingPlaceholder';\n  exports.Preloader = Preloader;\n  exports.Placeholder = Placeholder;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["../index.js"],"names":["defaultStyle","opacity","zIndex","backgroundColor","height","width","position","top","left","display","justifyContent","alignItems","Preloader","React","loaded","window","document","setTimeout","style","className","children","fadeDuration","PlaceholderComponent","type","console","cleanChildren","child","React.createElement","React.Fragment","transition","Placeholder"],"mappings":"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","sourcesContent":["/* @flow */\nimport * as React from 'react';\n\ntype PreloaderProps = {\n\tfadeDuration?: number,\n\tclassName?: string,\n\tchildren?: React.Node,\n\tstyle: {\n\t\t[string]: mixed\n\t}\n};\n\ntype PreloaderState = {\n\tloaded: boolean\n};\n\ntype PlaceholderProps = {\n\tchildren?: React.Node\n};\n\nconst defaultStyle = {\n\topacity: 1,\n\tzIndex: 999,\n\tbackgroundColor: 'white',\n\theight: '100vh',\n\twidth: '100vw',\n\tposition: 'fixed',\n\ttop: 0,\n\tleft: 0,\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n\talignItems: 'center',\n};\n\nclass Preloader extends React.Component<PreloaderProps, PreloaderState> {\n\tstate = { loaded: false };\n\n\tref: ?HTMLDivElement;\n\n\tcomponentDidMount = () => {\n\t\twindow.requestAnimationFrame(this.checkReadyState);\n\t};\n\n\tcheckReadyState = () => {\n\t\tif (document.readyState === 'complete' && this.ref) {\n\t\t\tthis.ref.style.opacity = '0';\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({ loaded: true });\n\t\t\t\tthis.ref = null;\n\t\t\t}, this.props.fadeDuration || 200);\n\t\t} else {\n\t\t\twindow.requestAnimationFrame(this.checkReadyState);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { style, className, children, fadeDuration } = this.props;\n\t\tconst PlaceholderComponent = React.Children.toArray(children)\n\t\t\t.find(({ type }) => type.displayName === 'PreloadingPlaceholder');\n\n\t\tif (!PlaceholderComponent) {\n\t\t\tconsole.warn('react-preloading-screen:', 'No <Placeholder> component found in children of <Preloader>. Preloader is not in effect.');\n\t\t\treturn children;\n\t\t}\n\n\t\tconst cleanChildren = React.Children.map(\n\t\t\tchildren,\n\t\t\t(child) =>\n\t\t\t\t(child.type.displayName === 'PreloadingPlaceholder' ? null : child)\n\t\t);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{cleanChildren}\n\t\t\t\t{\n\t\t\t\t\tthis.state.loaded\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t...defaultStyle,\n\t\t\t\t\t\t\t\t\ttransition: `opacity ${fadeDuration || 200 / 1000}s ease`,\n\t\t\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\tref={(ref) => {\n\t\t\t\t\t\t\t\t\tthis.ref = ref;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{PlaceholderComponent}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst Placeholder = ({ children }: PlaceholderProps) => (\n\t<React.Fragment>{children}</React.Fragment>\n);\n\nPlaceholder.displayName = 'PreloadingPlaceholder';\n\nexport { Preloader, Placeholder };\n"]},"metadata":{},"sourceType":"script"}